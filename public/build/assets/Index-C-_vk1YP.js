import{r as v,h as g,o as r,w as f,a as i,b as e,u as c,g as N,j as w,H as j,c as o,F as u,p,t as d,G as S,S as y,e as _,f as k,n as C,z as U}from"./app-BevKeGvV.js";import{_ as V}from"./AppLayout-BhWm1ZWu.js";import{P as F}from"./PageFooter-Cwmg75JN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={class:"flex flex-col min-h-screen"},E={class:"flex-1"},M={class:"card rounded-lg shadow-sm p-6 mb-6"},R={class:"flex flex-col md:flex-row gap-4 items-end"},D={class:"flex-1"},G={class:"w-full md:w-48"},H=["value"],I={class:"card rounded-lg shadow-sm overflow-hidden"},L={class:"w-full"},z={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap"},P={class:"font-medium"},$={class:"px-6 py-4 whitespace-nowrap text-sm"},q={class:"px-6 py-4 whitespace-nowrap"},J={key:0,class:"flex items-center"},K=["src","alt"],Q={key:1,class:"flex items-center justify-center w-10 h-10 rounded-full bg-gray-200 text-gray-500 font-bold"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap text-sm"},Y={class:"flex gap-2"},Z=["onClick"],ee={key:0},te={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},se={class:"flex flex-wrap gap-1"},ne={__name:"Index",props:{users:Object,roles:Array,filters:Object,visitCount:Number},setup(a){const h=a,m=v(h.filters.search||""),x=v(h.filters.role||"");function b(){U.get(route("restaurant.users.index"),{search:m.value,role:x.value},{preserveState:!0,preserveScroll:!0})}function A(n){confirm("¿Estás seguro de que deseas archivar este usuario?")&&U.delete(route("restaurant.users.destroy",n))}function B(n){return{administrador:"bg-purple-100 text-purple-800",almacenero:"bg-blue-100 text-blue-800",mesero:"bg-green-100 text-green-800",cliente:"bg-gray-100 text-gray-800"}[n]||"bg-gray-100 text-gray-800"}return(n,s)=>(r(),g(V,null,{default:f(()=>[i(c(N),{title:"Gestión de Usuarios - Restaurante"}),e("div",T,[e("div",E,[s[9]||(s[9]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Gestión de Usuarios"),e("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Administra los usuarios del sistema de restaurante ")],-1)),e("div",M,[e("div",R,[e("div",D,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}}," Buscar ",-1)),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>m.value=t),onInput:b,type:"text",placeholder:"Buscar por nombre o email...",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,544),[[j,m.value]])]),e("div",G,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}}," Filtrar por rol ",-1)),w(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>x.value=t),onChange:b,class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},[s[3]||(s[3]=e("option",{value:""},"Todos los roles",-1)),(r(!0),o(u,null,p(a.roles,t=>(r(),o("option",{key:t.id,value:t.name},d(t.name.charAt(0).toUpperCase()+t.name.slice(1)),9,H))),128))],544),[[S,x.value]])]),i(c(y),{href:n.route("restaurant.users.create"),class:"btn-primary px-6 py-2 rounded-lg font-medium transition whitespace-nowrap"},{default:f(()=>s[5]||(s[5]=[_(" + Crear Usuario ")])),_:1},8,["href"])])]),e("div",I,[e("table",L,[s[8]||(s[8]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Nombre"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Email"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Foto"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Rol"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",null,[(r(!0),o(u,null,p(a.users.data,t=>(r(),o("tr",{key:t.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[e("td",z,d(t.id),1),e("td",O,[e("div",P,d(t.name),1)]),e("td",$,d(t.email),1),e("td",q,[t.profile_photo_path?(r(),o("div",J,[e("img",{src:t.profile_photo_path,alt:t.name,class:"w-10 h-10 rounded-full object-cover shadow-sm"},null,8,K)])):(r(),o("div",Q,d(t.name.charAt(0).toUpperCase()),1))]),e("td",W,[(r(!0),o(u,null,p(t.roles,l=>(r(),o("span",{key:l.id,class:C([B(l.name),"px-2 py-1 text-xs font-semibold rounded-full"])},d(l.name.charAt(0).toUpperCase()+l.name.slice(1)),3))),128))]),e("td",X,[e("div",Y,[i(c(y),{href:n.route("restaurant.users.edit",t.id),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:f(()=>s[6]||(s[6]=[_(" Editar ")])),_:2},1032,["href"]),e("button",{onClick:l=>A(t.id),class:"text-red-600 hover:text-red-800 font-medium"}," Archivar ",8,Z)])])]))),128)),a.users.data.length===0?(r(),o("tr",ee,s[7]||(s[7]=[e("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," No se encontraron usuarios ",-1)]))):k("",!0)])]),a.users.links.length>3?(r(),o("div",te,[e("div",se,[(r(!0),o(u,null,p(a.users.links,(t,l)=>(r(),g(c(y),{key:l,href:t.url,class:C(["px-3 py-1 rounded",t.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:t.label,disabled:!t.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):k("",!0)])]),i(F,{visitCount:a.visitCount},null,8,["visitCount"])])]),_:1}))}};export{ne as default};
