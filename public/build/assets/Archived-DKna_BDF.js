import{h as x,o as a,w as u,a as c,b as t,u as l,g as w,S as m,e as b,c as i,f as d,F as h,p as f,n as y,t as o,z as k}from"./app-Dg_crHS9.js";import{_ as C}from"./AppLayout-C8MvNAvG.js";import{P as S}from"./PageFooter-DpIfoR1r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex flex-col min-h-screen"},A={class:"flex-1"},M={class:"mb-6"},T={class:"flex items-center gap-4"},B={class:"card rounded-lg shadow-sm overflow-hidden"},L={class:"overflow-x-auto"},D={class:"w-full"},F={class:"px-6 py-4 whitespace-nowrap"},V={class:"px-6 py-4"},j={class:"font-medium"},E={key:0,class:"text-xs",style:{color:"var(--color-text-secondary)"}},H={class:"px-6 py-4 whitespace-nowrap text-sm"},z={class:"px-6 py-4 whitespace-nowrap text-sm"},I={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},P=["title"],$={class:"px-6 py-4 whitespace-nowrap text-sm"},q={class:"px-6 py-4 whitespace-nowrap text-sm"},O=["onClick"],R={key:0},G={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},J={class:"flex flex-wrap gap-1"},X={__name:"Archived",props:{movimientos:Object,visitCount:Number},setup(n){function g(r){confirm("¿Estás seguro de que deseas desarchivar este movimiento?")&&k.post(route("restaurant.movimientos.restore",r))}function _(r){return{Ingreso:"bg-green-100 text-green-800",Salida:"bg-red-100 text-red-800",Ajuste:"bg-yellow-100 text-yellow-800"}[r]||"bg-gray-100 text-gray-800"}function v(r){return new Date(r).toLocaleString("es-ES",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}return(r,s)=>(a(),x(C,null,{default:u(()=>[c(l(w),{title:"Movimientos Archivados - Restaurante"}),t("div",N,[t("div",A,[t("div",M,[t("div",T,[c(l(m),{href:r.route("restaurant.movimientos.index"),class:"text-2xl hover:opacity-75"},{default:u(()=>s[0]||(s[0]=[b(" ← ")])),_:1},8,["href"]),s[1]||(s[1]=t("div",null,[t("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Movimientos Archivados"),t("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Lista de movimientos archivados ")],-1))])]),t("div",B,[t("div",L,[t("table",D,[s[3]||(s[3]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Tipo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Insumo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Cantidad"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Stock Ant."),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Stock Nuevo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Motivo"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha/Hora"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Acciones")])],-1)),t("tbody",null,[(a(!0),i(h,null,f(n.movimientos.data,e=>(a(),i("tr",{key:e.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[t("td",F,[t("span",{class:y([_(e.tipo),"px-2 py-1 text-xs font-semibold rounded-full"])},o(e.tipo),3)]),t("td",V,[t("div",j,o(e.insumo.nombre),1),e.insumo.marca?(a(),i("div",E,o(e.insumo.marca.nombre),1)):d("",!0)]),t("td",H,o(e.cantidad)+" "+o(e.insumo.unidad_medida),1),t("td",z,o(e.stock_anterior),1),t("td",I,o(e.stock_nuevo),1),t("td",{class:"px-6 py-4 text-sm max-w-xs truncate",title:e.motivo},o(e.motivo),9,P),t("td",$,o(v(e.created_at)),1),t("td",q,[t("button",{onClick:p=>g(e.id),class:"text-green-600 hover:text-green-800 font-medium"}," Desarchivar ",8,O)])]))),128)),n.movimientos.data.length===0?(a(),i("tr",R,s[2]||(s[2]=[t("td",{colspan:"8",class:"px-6 py-8 text-center text-gray-500"}," No hay movimientos archivados ",-1)]))):d("",!0)])])]),n.movimientos.links.length>3?(a(),i("div",G,[t("div",J,[(a(!0),i(h,null,f(n.movimientos.links,(e,p)=>(a(),x(l(m),{key:p,href:e.url,class:y(["px-3 py-1 rounded",e.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:e.label,disabled:!e.url},null,8,["href","class","innerHTML","disabled"]))),128))])])):d("",!0)])]),c(S,{visitCount:n.visitCount},null,8,["visitCount"])])]),_:1}))}};export{X as default};
