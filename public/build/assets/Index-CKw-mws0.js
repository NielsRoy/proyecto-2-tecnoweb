import{s as k,h as _,o,w as g,a as x,b as t,u,g as C,t as a,c as r,f as c,F as m,p as w,S as v,e as N,n as b}from"./app-BevKeGvV.js";import{_ as B}from"./AppLayout-BhWm1ZWu.js";import{P as L}from"./PageFooter-Cwmg75JN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex flex-col min-h-screen"},S={class:"flex-1"},T={class:"mb-6"},V={class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},A={class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}},D={class:"card rounded-lg shadow-sm overflow-hidden"},F={class:"w-full"},H={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},P={class:"px-6 py-4 whitespace-nowrap"},I={class:"font-medium"},O={key:0,class:"px-6 py-4 whitespace-nowrap"},R={class:"font-medium"},j={class:"text-xs text-gray-500"},z={class:"px-6 py-4 whitespace-nowrap text-sm"},E={class:"px-6 py-4 whitespace-nowrap text-sm"},$={class:"px-6 py-4 whitespace-nowrap"},q={class:"px-6 py-4 whitespace-nowrap"},G={class:"font-bold text-red-600"},J={class:"px-6 py-4 whitespace-nowrap text-sm"},K={key:0},Q=["colspan"],U={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},W={class:"flex flex-wrap gap-1"},X=["innerHTML"],ot={__name:"Index",props:{creditos:Object,visitCount:Number},setup(i){const l=k().props.auth.user,n=p=>Array.isArray(l==null?void 0:l.roles)&&l.roles.some(e=>e.name===p);return(p,e)=>(o(),_(B,null,{default:g(()=>[x(u(C),{title:"Mis Créditos - Restaurante"}),t("div",M,[t("div",S,[t("div",T,[t("h1",V,a(n("cliente")?"Mis Créditos":"Créditos"),1),t("p",A,a(n("cliente")?"Créditos pendientes de pago":"Todos los créditos del sistema"),1)]),t("div",D,[t("table",F,[t("thead",null,[t("tr",null,[e[0]||(e[0]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Nro. Crédito",-1)),n("administrador")?(o(),r("th",H,"Cliente")):c("",!0),e[1]||(e[1]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha",-1)),e[2]||(e[2]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Plan",-1)),e[3]||(e[3]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Saldo Inicial",-1)),e[4]||(e[4]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Saldo Pendiente",-1)),e[5]||(e[5]=t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Acciones",-1))])]),t("tbody",null,[(o(!0),r(m,null,w(i.creditos.data,s=>{var d,h,y,f;return o(),r("tr",{key:s.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[t("td",P,[t("div",I,a(s.nro),1)]),n("administrador")?(o(),r("td",O,[t("div",R,a(((h=(d=s.venta)==null?void 0:d.user)==null?void 0:h.name)||"N/A"),1),t("div",j,a(((f=(y=s.venta)==null?void 0:y.user)==null?void 0:f.email)||""),1)])):c("",!0),t("td",z,a(new Date(s.fecha).toLocaleDateString("es-BO")),1),t("td",E,a(s.plan.nombre),1),t("td",$," Bs. "+a(s.saldo_inicial),1),t("td",q,[t("div",G,"Bs. "+a(s.saldo_final),1)]),t("td",J,[x(u(v),{href:p.route("restaurant.creditos.show",s.id),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:g(()=>e[6]||(e[6]=[N(" Ver Detalle ")])),_:2},1032,["href"])])])}),128)),i.creditos.data.length===0?(o(),r("tr",K,[t("td",{colspan:n("administrador")?7:6,class:"px-6 py-8 text-center text-gray-500"},a(n("cliente")?"No tienes créditos pendientes":"No hay créditos registrados"),9,Q)])):c("",!0)])]),i.creditos.links.length>3?(o(),r("div",U,[t("div",W,[(o(!0),r(m,null,w(i.creditos.links,(s,d)=>(o(),r(m,{key:d},[s.url?(o(),_(u(v),{key:0,href:s.url,class:b(["px-3 py-1 rounded",s.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(o(),r("span",{key:1,class:b(["px-3 py-1 rounded",s.active?"btn-primary":"bg-gray-200"]),innerHTML:s.label},null,10,X))],64))),128))])])):c("",!0)])]),x(L,{visitCount:i.visitCount},null,8,["visitCount"])])]),_:1}))}};export{ot as default};
