import{x as k,i as C,h as w,o as d,w as u,a as r,b as o,u as s,g as B,S as f,e as g,d as P,c as m,f as _,j as V,F as h,p as N,t as l,G as R}from"./app-D_wHK3i_.js";import{_ as F}from"./AppLayout-Dvza4SgF.js";import{P as I}from"./PageFooter-DdcVYEp2.js";import{_ as y}from"./InputError-B46eG1Jh.js";import{_ as b}from"./InputLabel-DAnXEcIl.js";import{_ as $}from"./TextInput-BO6fT2HG.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"flex flex-col min-h-screen"},z={class:"flex-1"},A={class:"mb-6"},M={class:"flex items-center gap-4"},j={class:"card rounded-lg shadow-sm p-6 max-w-2xl"},D=["value"],E={key:0,class:"bg-blue-50 p-4 rounded-lg"},G={class:"grid grid-cols-2 gap-2 text-sm"},U={class:"font-medium ml-2"},L={class:"font-medium ml-2"},O={class:"font-medium ml-2"},Q={class:"font-bold text-red-600 ml-2"},T={key:0,class:"col-span-2"},H={class:"font-bold text-orange-600 ml-2"},J={class:"flex items-center gap-4 pt-4"},K=["disabled"],to={__name:"Create",props:{creditos:Array,creditoSeleccionado:Object,visitCount:Number},setup(c){var v;const p=c,t=k({credito_id:((v=p.creditoSeleccionado)==null?void 0:v.id)||"",monto:""}),i=C(()=>t.credito_id?p.creditos.find(n=>n.id==t.credito_id)||p.creditoSeleccionado:null);function S(){t.post(route("restaurant.pagos.store"))}return(n,e)=>(d(),w(F,null,{default:u(()=>{var x;return[r(s(B),{title:"Realizar Pago - Restaurante"}),o("div",q,[o("div",z,[o("div",A,[o("div",M,[r(s(f),{href:n.route("restaurant.pagos.index"),class:"text-2xl hover:opacity-75"},{default:u(()=>e[2]||(e[2]=[g("← ")])),_:1},8,["href"]),e[3]||(e[3]=o("div",null,[o("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Realizar Pago"),o("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Paga tus créditos pendientes ")],-1))])]),o("div",j,[o("form",{onSubmit:P(S,["prevent"]),class:"space-y-6"},[o("div",null,[r(b,{for:"credito_id",value:"Seleccionar Crédito *"}),V(o("select",{id:"credito_id","onUpdate:modelValue":e[0]||(e[0]=a=>s(t).credito_id=a),class:"mt-1 block w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"},required:""},[e[4]||(e[4]=o("option",{value:""},"-- Seleccione un crédito --",-1)),(d(!0),m(h,null,N(c.creditos,a=>(d(),m("option",{key:a.id,value:a.id},l(a.nro)+" - Saldo: Bs. "+l(a.saldo_final),9,D))),128))],512),[[R,s(t).credito_id]]),r(y,{class:"mt-2",message:s(t).errors.credito_id},null,8,["message"])]),i.value?(d(),m("div",E,[e[10]||(e[10]=o("h3",{class:"font-bold mb-2"},"Información del Crédito",-1)),o("div",G,[o("div",null,[e[5]||(e[5]=o("span",{class:"text-gray-600"},"Número:",-1)),o("span",U,l(i.value.nro),1)]),o("div",null,[e[6]||(e[6]=o("span",{class:"text-gray-600"},"Plan:",-1)),o("span",L,l((x=i.value.plan)==null?void 0:x.nombre),1)]),o("div",null,[e[7]||(e[7]=o("span",{class:"text-gray-600"},"Saldo Inicial:",-1)),o("span",O,"Bs. "+l(i.value.saldo_inicial),1)]),o("div",null,[e[8]||(e[8]=o("span",{class:"text-gray-600"},"Saldo Pendiente:",-1)),o("span",Q,"Bs. "+l(i.value.saldo_final),1)]),i.value.intereses_acumulados?(d(),m("div",T,[e[9]||(e[9]=o("span",{class:"text-gray-600"},"Intereses Acumulados:",-1)),o("span",H,"Bs. "+l(i.value.intereses_acumulados.toFixed(2)),1)])):_("",!0)])])):_("",!0),o("div",null,[r(b,{for:"monto",value:"Monto a pagar (Bs.) *"}),r($,{id:"monto",modelValue:s(t).monto,"onUpdate:modelValue":e[1]||(e[1]=a=>s(t).monto=a),type:"number",step:"0.01",min:"0.01",class:"mt-1 block w-full",placeholder:"Ingrese el monto",required:""},null,8,["modelValue"]),e[11]||(e[11]=o("p",{class:"text-xs mt-1",style:{color:"var(--color-text-secondary)"}}," El pago se aplicará primero a los intereses y luego al capital ",-1)),r(y,{class:"mt-2",message:s(t).errors.monto},null,8,["message"])]),o("div",J,[o("button",{type:"submit",class:"btn-primary px-6 py-2 rounded-lg font-medium transition",disabled:s(t).processing},l(s(t).processing?"Procesando...":"Realizar Pago"),9,K),r(s(f),{href:n.route("restaurant.pagos.index"),class:"px-6 py-2 rounded-lg font-medium transition",style:{"background-color":"var(--color-border)",color:"var(--color-text-primary)"}},{default:u(()=>e[12]||(e[12]=[g(" Cancelar ")])),_:1},8,["href"]),r(s(f),{href:n.route("restaurant.pagos.qr",{credito_id:s(t).credito_id,monto:s(t).monto}),class:"px-6 py-2 rounded-lg bg-green-600 text-white"},{default:u(()=>e[13]||(e[13]=[g(" Generar pago por QR ")])),_:1},8,["href"])])],32)])]),r(I,{visitCount:c.visitCount},null,8,["visitCount"])])]}),_:1}))}};export{to as default};
