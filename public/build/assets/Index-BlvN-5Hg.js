import{r as h,h as g,o as r,w as m,a as d,b as e,u as i,g as M,j as w,H as S,c as o,F as c,p as x,t as l,G as N,S as f,e as _,f as k,n as T,z as C}from"./app-Dg_crHS9.js";import{_ as B}from"./AppLayout-C8MvNAvG.js";import{P as V}from"./PageFooter-DpIfoR1r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const H={class:"flex flex-col min-h-screen"},L={class:"flex-1"},j={class:"card rounded-lg shadow-sm p-6 mb-6"},A={class:"flex flex-col md:flex-row gap-4 items-end"},F={class:"flex-1"},D={class:"w-full md:w-48"},E=["value"],G={class:"card rounded-lg shadow-sm overflow-hidden"},U={class:"w-full"},z={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap"},P={class:"font-medium"},$={class:"px-6 py-4 whitespace-nowrap text-sm"},q={class:"px-6 py-4 whitespace-nowrap text-sm"},R={class:"px-6 py-4 whitespace-nowrap text-sm"},J={key:0,class:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},K={key:1,class:"text-gray-400"},Q={class:"px-6 py-4 whitespace-nowrap text-sm"},W={class:"flex gap-2"},X=["onClick"],Y={key:0},Z={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},ee={class:"flex flex-wrap gap-1"},te=["innerHTML"],le={__name:"Index",props:{insumos:Object,marcas:Array,filters:Object,visitCount:Number},setup(a){const y=a,u=h(y.filters.search||""),p=h(y.filters.marca_id||"");function b(){C.get(route("restaurant.insumos.index"),{search:u.value,marca_id:p.value},{preserveState:!0,preserveScroll:!0})}function I(n){confirm("¿Estás seguro de que deseas archivar este insumo?")&&C.delete(route("restaurant.insumos.destroy",n))}return(n,s)=>(r(),g(B,null,{default:m(()=>[d(i(M),{title:"Gestión de Insumos - Restaurante"}),e("div",H,[e("div",L,[s[9]||(s[9]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Gestión de Insumos"),e("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Administra los insumos del restaurante ")],-1)),e("div",j,[e("div",A,[e("div",F,[s[2]||(s[2]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}}," Buscar ",-1)),w(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>u.value=t),onInput:b,type:"text",placeholder:"Buscar por nombre...",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,544),[[S,u.value]])]),e("div",D,[s[4]||(s[4]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}}," Filtrar por marca ",-1)),w(e("select",{"onUpdate:modelValue":s[1]||(s[1]=t=>p.value=t),onChange:b,class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},[s[3]||(s[3]=e("option",{value:""},"Todas las marcas",-1)),(r(!0),o(c,null,x(a.marcas,t=>(r(),o("option",{key:t.id,value:t.id},l(t.nombre),9,E))),128))],544),[[N,p.value]])]),d(i(f),{href:n.route("restaurant.insumos.create"),class:"btn-primary px-6 py-2 rounded-lg font-medium transition whitespace-nowrap"},{default:m(()=>s[5]||(s[5]=[_(" + Crear Insumo ")])),_:1},8,["href"])])]),e("div",G,[e("table",U,[s[8]||(s[8]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"ID"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Nombre"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Stock"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Unidad"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Marca"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Acciones")])],-1)),e("tbody",null,[(r(!0),o(c,null,x(a.insumos.data,t=>(r(),o("tr",{key:t.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[e("td",z,l(t.id),1),e("td",O,[e("div",P,l(t.nombre),1)]),e("td",$,l(t.stock),1),e("td",q,l(t.unidad_medida),1),e("td",R,[t.marca?(r(),o("span",J,l(t.marca.nombre),1)):(r(),o("span",K,"Sin marca"))]),e("td",Q,[e("div",W,[d(i(f),{href:n.route("restaurant.insumos.edit",t.id),class:"text-blue-600 hover:text-blue-800 font-medium"},{default:m(()=>s[6]||(s[6]=[_(" Editar ")])),_:2},1032,["href"]),e("button",{onClick:v=>I(t.id),class:"text-red-600 hover:text-red-800 font-medium"}," Archivar ",8,X)])])]))),128)),a.insumos.data.length===0?(r(),o("tr",Y,s[7]||(s[7]=[e("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," No se encontraron insumos ",-1)]))):k("",!0)])]),a.insumos.links.length>3?(r(),o("div",Z,[e("div",ee,[(r(!0),o(c,null,x(a.insumos.links,(t,v)=>(r(),o(c,{key:v},[t.url?(r(),g(i(f),{key:0,href:t.url,class:T(["px-3 py-1 rounded",t.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(r(),o("span",{key:1,class:"px-3 py-1 rounded bg-gray-100 text-gray-400 cursor-not-allowed",innerHTML:t.label},null,8,te))],64))),128))])])):k("",!0)])]),d(V,{visitCount:a.visitCount},null,8,["visitCount"])])]),_:1}))}};export{le as default};
