import{r as E,h as y,o as a,w as h,a as m,b as e,u as x,g as D,S as w,e as V,j as p,H as _,G as k,t as d,c as n,f as N,F as f,p as T,n as u,z as B}from"./app-Dg_crHS9.js";import{_ as L}from"./AppLayout-C8MvNAvG.js";import{P as M}from"./PageFooter-DpIfoR1r.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"flex flex-col min-h-screen"},S={class:"flex-1"},G={class:"mb-6 flex items-center gap-4"},H={class:"card rounded-lg shadow-sm p-6 mb-6"},O={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},j={class:"card rounded-lg shadow-sm p-6 mb-6"},A={class:"flex items-center justify-between"},I={class:"flex items-center gap-4"},R={class:"text-3xl font-bold text-green-600"},U={class:"flex gap-2"},z=["href"],$=["href"],q={class:"card rounded-lg shadow-sm overflow-hidden"},J={class:"w-full"},K={class:"px-6 py-4 whitespace-nowrap text-sm"},Q={class:"px-6 py-4 whitespace-nowrap"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap font-medium"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={key:0},te={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},oe={class:"flex flex-wrap gap-1"},se=["innerHTML"],ne={__name:"Ventas",props:{ventas:Object,totalGeneral:Number,filters:Object,visitCount:Number},setup(r){const i=r,s=E({fecha_desde:i.filters.fecha_desde||"",fecha_hasta:i.filters.fecha_hasta||"",tipo_pago:i.filters.tipo_pago||"",estado:i.filters.estado||""});function g(){B.get(route("restaurant.reportes.ventas"),s.value,{preserveState:!0,preserveScroll:!0})}function F(){s.value={fecha_desde:"",fecha_hasta:"",tipo_pago:"",estado:""},g()}const b=l=>new Intl.NumberFormat("es-BO",{minimumFractionDigits:2,maximumFractionDigits:2}).format(l),C=l=>new Date(l).toLocaleString("es-BO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return(l,t)=>(a(),y(L,null,{default:h(()=>[m(x(D),{title:"Reporte de Ventas"}),e("div",P,[e("div",S,[e("div",G,[m(x(w),{href:l.route("restaurant.reportes.dashboard"),class:"text-2xl hover:opacity-75"},{default:h(()=>t[4]||(t[4]=[V("â†")])),_:1},8,["href"]),t[5]||(t[5]=e("div",null,[e("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Reporte de Ventas"),e("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Reporte detallado de ventas con filtros ")],-1))]),e("div",H,[t[12]||(t[12]=e("h2",{class:"text-lg font-bold mb-4"},"Filtros",-1)),e("div",O,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-1"},"Fecha Desde",-1)),p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.value.fecha_desde=o),type:"date",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,512),[[_,s.value.fecha_desde]])]),e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium mb-1"},"Fecha Hasta",-1)),p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.fecha_hasta=o),type:"date",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,512),[[_,s.value.fecha_hasta]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium mb-1"},"Tipo de Pago",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.tipo_pago=o),class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},t[8]||(t[8]=[e("option",{value:""},"Todos",-1),e("option",{value:"Inmediato"},"Inmediato",-1),e("option",{value:"CrÃ©dito"},"CrÃ©dito",-1)]),512),[[k,s.value.tipo_pago]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium mb-1"},"Estado",-1)),p(e("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.estado=o),class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},t[10]||(t[10]=[e("option",{value:""},"Todos",-1),e("option",{value:"PENDIENTE"},"Pendiente",-1),e("option",{value:"ENTREGADO"},"Entregado",-1)]),512),[[k,s.value.estado]])])]),e("div",{class:"flex gap-2 mt-4"},[e("button",{onClick:g,class:"btn-primary px-6 py-2 rounded-lg"}," Aplicar Filtros "),e("button",{onClick:F,class:"px-6 py-2 rounded-lg",style:{"background-color":"var(--color-border)",color:"var(--color-text-primary)"}}," Limpiar ")])]),e("div",j,[e("div",A,[t[13]||(t[13]=e("h2",{class:"text-xl font-bold"},"Total General",-1)),e("div",I,[e("p",R,"Bs. "+d(b(r.totalGeneral)),1),e("div",U,[e("a",{href:l.route("restaurant.reportes.ventas.export.excel",r.filters),class:"btn-primary px-4 py-2 rounded-lg flex items-center gap-2"}," ðŸ“Š Excel ",8,z),e("a",{href:l.route("restaurant.reportes.ventas.export.pdf",r.filters),class:"px-4 py-2 rounded-lg flex items-center gap-2",style:{"background-color":"#ef4444",color:"white"}}," ðŸ“„ PDF ",8,$)])])])]),e("div",q,[e("table",J,[t[15]||(t[15]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Cliente"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Mesa"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Total"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Tipo Pago"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Estado")])],-1)),e("tbody",null,[(a(!0),n(f,null,T(r.ventas.data,o=>{var c,v;return a(),n("tr",{key:o.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[e("td",K,d(C(o.fecha_hora)),1),e("td",Q,d(((c=o.user)==null?void 0:c.name)||"N/A"),1),e("td",W,d(((v=o.mesa)==null?void 0:v.codigo)||"N/A"),1),e("td",X," Bs. "+d(b(o.total)),1),e("td",Y,[e("span",{class:u(o.tipo_pago==="Inmediato"?"text-green-600":"text-orange-600")},d(o.tipo_pago),3)]),e("td",Z,[e("span",{class:u(o.estado==="ENTREGADO"?"text-green-600":"text-yellow-600")},d(o.estado),3)])])}),128)),r.ventas.data.length===0?(a(),n("tr",ee,t[14]||(t[14]=[e("td",{colspan:"6",class:"px-6 py-8 text-center text-gray-500"}," No se encontraron ventas ",-1)]))):N("",!0)])]),r.ventas.links.length>3?(a(),n("div",te,[e("div",oe,[(a(!0),n(f,null,T(r.ventas.links,(o,c)=>(a(),n(f,{key:c},[o.url?(a(),y(x(w),{key:0,href:o.url,class:u(["px-3 py-1 rounded",o.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:o.label},null,8,["href","class","innerHTML"])):(a(),n("span",{key:1,class:u(["px-3 py-1 rounded",o.active?"btn-primary":"bg-gray-200"]),innerHTML:o.label},null,10,se))],64))),128))])])):N("",!0)])]),m(M,{visitCount:r.visitCount},null,8,["visitCount"])])]),_:1}))}};export{ne as default};
