import{r as b,h as x,o as s,w as _,a as m,b as e,u as y,g as w,j as E,G as k,c as r,f,F as d,p,n as i,t as a,S as N,z as g}from"./app-WIpr5u10.js";import{_ as T}from"./AppLayout-D8U70Zno.js";import{P as C}from"./PageFooter-CFCpgnrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"flex flex-col min-h-screen"},M={class:"flex-1"},P={class:"card rounded-lg shadow-sm p-6 mb-6"},S={class:"flex gap-4"},B={class:"flex-1"},L={class:"card rounded-lg shadow-sm overflow-hidden"},H={class:"w-full"},I={class:"px-6 py-4 whitespace-nowrap text-sm"},O={class:"px-6 py-4 whitespace-nowrap"},j={class:"font-bold text-lg"},F={class:"px-6 py-4 whitespace-nowrap text-sm"},G={class:"px-6 py-4"},V={class:"text-sm"},z={class:"px-6 py-4 whitespace-nowrap"},A={class:"font-medium"},R={class:"px-6 py-4 whitespace-nowrap text-sm"},$={class:"px-6 py-4 whitespace-nowrap text-sm"},U=["onClick"],q={key:1,class:"text-green-600"},J={key:0},K={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},Q={class:"flex flex-wrap gap-1"},W=["innerHTML"],se={__name:"Index",props:{ordenes:Object,filters:Object,visitCount:Number},setup(n){const c=b(n.filters.estado||"");function h(){g.get(route("restaurant.ordenes.index"),{estado:c.value},{preserveState:!0,preserveScroll:!0})}function v(u){confirm("¿Marcar esta orden como entregada?")&&g.put(route("restaurant.ordenes.update",u))}return(u,o)=>(s(),x(T,null,{default:_(()=>[m(y(w),{title:"Gestión de Órdenes - Restaurante"}),e("div",D,[e("div",M,[o[5]||(o[5]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Gestión de Órdenes"),e("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Órdenes pendientes de entrega (las pendientes aparecen primero) ")],-1)),e("div",P,[e("div",S,[e("div",B,[o[2]||(o[2]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}},"Filtrar por Estado",-1)),E(e("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>c.value=t),onChange:h,class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},o[1]||(o[1]=[e("option",{value:""},"Todos",-1),e("option",{value:"PENDIENTE"},"Pendiente",-1),e("option",{value:"ENTREGADO"},"Entregado",-1)]),544),[[k,c.value]])])])]),e("div",L,[e("table",H,[o[4]||(o[4]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Hora"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Mesa"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Cliente"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Productos"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Total"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Estado"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Acción")])],-1)),e("tbody",null,[(s(!0),r(d,null,p(n.ordenes.data,t=>(s(),r("tr",{key:t.id,class:i(["border-t",t.estado==="PENDIENTE"?"bg-yellow-50":""]),style:{"border-color":"var(--color-border)"}},[e("td",I,a(new Date(t.fecha_hora).toLocaleTimeString("es-BO")),1),e("td",O,[e("div",j,a(t.mesa.codigo),1)]),e("td",F,a(t.user.name),1),e("td",G,[e("div",V,[(s(!0),r(d,null,p(t.detalles,l=>(s(),r("div",{key:l.id},a(l.cantidad)+"x "+a(l.producto.nombre),1))),128))])]),e("td",z,[e("div",A,"Bs. "+a(t.total),1)]),e("td",R,[e("span",{class:i(t.estado==="PENDIENTE"?"text-yellow-600 font-bold":"text-green-600")},a(t.estado),3)]),e("td",$,[t.estado==="PENDIENTE"?(s(),r("button",{key:0,onClick:l=>v(t.id),class:"btn-primary px-4 py-2 rounded-lg font-medium"}," Marcar Entregado ",8,U)):(s(),r("span",q,"✓ Entregado"))])],2))),128)),n.ordenes.data.length===0?(s(),r("tr",J,o[3]||(o[3]=[e("td",{colspan:"7",class:"px-6 py-8 text-center text-gray-500"}," No hay órdenes ",-1)]))):f("",!0)])]),n.ordenes.links.length>3?(s(),r("div",K,[e("div",Q,[(s(!0),r(d,null,p(n.ordenes.links,(t,l)=>(s(),r(d,{key:l},[t.url?(s(),x(y(N),{key:0,href:t.url,class:i(["px-3 py-1 rounded",t.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:t.label},null,8,["href","class","innerHTML"])):(s(),r("span",{key:1,class:i(["px-3 py-1 rounded",t.active?"btn-primary":"bg-gray-200"]),innerHTML:t.label},null,10,W))],64))),128))])])):f("",!0)])]),m(C,{visitCount:n.visitCount},null,8,["visitCount"])])]),_:1}))}};export{se as default};
