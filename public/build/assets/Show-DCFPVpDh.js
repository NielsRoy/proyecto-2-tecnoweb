import{s as b,h as k,o as r,w as c,a as n,b as t,u as x,g as B,c as l,f as y,S as g,e as v,t as s,F as w,p as _}from"./app-B3--_BYh.js";import{_ as C}from"./AppLayout-DuKiVIcH.js";import{P as S}from"./PageFooter-CCNwdcBR.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"flex flex-col min-h-screen"},P={class:"flex-1"},F={class:"mb-6"},A={class:"flex items-center gap-4"},D={class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},I={class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}},V={class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6"},L={class:"card rounded-lg shadow-sm p-6"},O={class:"text-2xl font-bold mt-1"},R={class:"card rounded-lg shadow-sm p-6"},E={class:"text-2xl font-bold mt-1 text-orange-600"},j={class:"card rounded-lg shadow-sm p-6"},z={class:"text-2xl font-bold mt-1 text-red-600"},H={key:0,class:"mb-6"},M={class:"card rounded-lg shadow-sm overflow-hidden mb-6"},T={class:"px-6 py-4 border-b",style:{"border-color":"var(--color-border)"}},$={key:0,class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}},q={key:1,class:"mt-2"},G={class:"flex items-center gap-2"},J={class:"font-bold text-lg"},K={class:"text-sm",style:{color:"var(--color-text-secondary)"}},Q={class:"w-full"},U={class:"px-6 py-4 whitespace-nowrap text-sm"},W={class:"px-6 py-4 whitespace-nowrap text-sm"},X={class:"px-6 py-4 whitespace-nowrap text-sm"},Y={class:"px-6 py-4 whitespace-nowrap text-sm text-orange-600"},Z={class:"px-6 py-4 whitespace-nowrap text-sm"},tt={class:"px-6 py-4 whitespace-nowrap font-medium"},et={class:"px-6 py-4 whitespace-nowrap text-sm"},st={class:"card rounded-lg shadow-sm overflow-hidden"},ot={class:"w-full"},at={class:"px-6 py-4 whitespace-nowrap text-sm"},rt={class:"px-6 py-4 whitespace-nowrap font-medium text-green-600"},lt={key:0},pt={__name:"Show",props:{credito:Object,interesesAcumulados:Number,visitCount:Number},setup(o){const d=b().props.auth.user,p=i=>Array.isArray(d==null?void 0:d.roles)&&d.roles.some(e=>e.name===i);return(i,e)=>(r(),k(C,null,{default:c(()=>{var m,u,h,f;return[n(x(B),{title:"Detalle de CrÃ©dito - Restaurante"}),t("div",N,[t("div",P,[t("div",F,[t("div",A,[n(x(g),{href:i.route("restaurant.creditos.index"),class:"text-2xl hover:opacity-75"},{default:c(()=>e[0]||(e[0]=[v("â† ")])),_:1},8,["href"]),t("div",null,[t("h1",D,"Detalle de CrÃ©dito "+s(o.credito.nro),1),t("p",I," Plan: "+s(o.credito.plan.nombre)+" ("+s(o.credito.plan.tasa_interes_diario)+"% diario) ",1)])])]),t("div",V,[t("div",L,[e[1]||(e[1]=t("div",{class:"text-sm",style:{color:"var(--color-text-secondary)"}},"Saldo Inicial",-1)),t("div",O,"Bs. "+s(o.credito.saldo_inicial),1)]),t("div",R,[e[2]||(e[2]=t("div",{class:"text-sm",style:{color:"var(--color-text-secondary)"}},"Intereses Acumulados",-1)),t("div",E,"Bs. "+s(o.interesesAcumulados.toFixed(2)),1)]),t("div",j,[e[3]||(e[3]=t("div",{class:"text-sm",style:{color:"var(--color-text-secondary)"}},"Saldo Pendiente",-1)),t("div",z,"Bs. "+s(o.credito.saldo_final),1)])]),p("cliente")?(r(),l("div",H,[n(x(g),{href:i.route("restaurant.pagos.create",{credito_id:o.credito.id}),class:"btn-primary px-6 py-3 rounded-lg font-medium transition inline-block"},{default:c(()=>e[4]||(e[4]=[v(" ðŸ’³ Realizar Pago ")])),_:1},8,["href"])])):y("",!0),t("div",M,[t("div",T,[e[6]||(e[6]=t("h2",{class:"text-xl font-bold"},"Plan de Cuotas Sugerido",-1)),p("cliente")?(r(),l("p",$," Este es un plan sugerido. Puedes pagar cuando desees. ")):(r(),l("div",q,[t("div",G,[e[5]||(e[5]=t("span",{class:"text-sm font-medium",style:{color:"var(--color-text-secondary)"}},"Cliente:",-1)),t("span",J,s(((u=(m=o.credito.venta)==null?void 0:m.user)==null?void 0:u.name)||"N/A"),1)]),t("div",K,s(((f=(h=o.credito.venta)==null?void 0:h.user)==null?void 0:f.email)||""),1)]))]),t("table",Q,[e[7]||(e[7]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Cuota"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Saldo Inicial"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"InterÃ©s"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Capital"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Cuota"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Saldo Final")])],-1)),t("tbody",null,[(r(!0),l(w,null,_(o.credito.cuotas,a=>(r(),l("tr",{key:a.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[t("td",U,s(a.nro),1),t("td",W,s(new Date(a.fecha).toLocaleDateString("es-BO")),1),t("td",X,"Bs. "+s(a.saldo_inicial),1),t("td",Y,"Bs. "+s(a.interes),1),t("td",Z,"Bs. "+s(a.capital),1),t("td",tt,"Bs. "+s(a.cuota),1),t("td",et,"Bs. "+s(a.saldo_final),1)]))),128))])])]),t("div",st,[e[10]||(e[10]=t("div",{class:"px-6 py-4 border-b",style:{"border-color":"var(--color-border)"}},[t("h2",{class:"text-xl font-bold"},"Historial de Pagos")],-1)),t("table",ot,[e[9]||(e[9]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha"),t("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Monto")])],-1)),t("tbody",null,[(r(!0),l(w,null,_(o.credito.pagos,a=>(r(),l("tr",{key:a.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[t("td",at,s(new Date(a.fecha).toLocaleString("es-BO")),1),t("td",rt,"Bs. "+s(a.monto),1)]))),128)),o.credito.pagos.length===0?(r(),l("tr",lt,e[8]||(e[8]=[t("td",{colspan:"2",class:"px-6 py-8 text-center text-gray-500"}," No hay pagos registrados ",-1)]))):y("",!0)])])])]),n(S,{visitCount:o.visitCount},null,8,["visitCount"])])]}),_:1}))}};export{pt as default};
