import{x as k,i as C,h as B,o as n,w as p,a as l,b as o,u as t,g as P,S as g,e as x,d as w,c,f as _,j as V,F as N,p as h,t as a,G as F}from"./app-Dg_crHS9.js";import{_ as I}from"./AppLayout-C8MvNAvG.js";import{P as R}from"./PageFooter-DpIfoR1r.js";import{_ as y}from"./InputError-BF0ndf_O.js";import{_ as b}from"./InputLabel-B6uqD9OI.js";import{_ as $}from"./TextInput-BsXaiNsn.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"flex flex-col min-h-screen"},A={class:"flex-1"},M={class:"mb-6"},j={class:"flex items-center gap-4"},q={class:"card rounded-lg shadow-sm p-6 max-w-2xl"},D=["value"],E={key:0,class:"bg-blue-50 p-4 rounded-lg"},U={class:"grid grid-cols-2 gap-2 text-sm"},G={class:"font-medium ml-2"},L={class:"font-medium ml-2"},O={class:"font-medium ml-2"},T={class:"font-bold text-red-600 ml-2"},H={key:0,class:"col-span-2"},J={class:"font-bold text-orange-600 ml-2"},K={class:"flex items-center gap-4 pt-4"},Q=["disabled"],to={__name:"Create",props:{creditos:Array,creditoSeleccionado:Object,visitCount:Number},setup(u){var f;const m=u,s=k({credito_id:((f=m.creditoSeleccionado)==null?void 0:f.id)||"",monto:""}),i=C(()=>s.credito_id?m.creditos.find(d=>d.id==s.credito_id)||m.creditoSeleccionado:null);function S(){s.post(route("restaurant.pagos.store"))}return(d,e)=>(n(),B(I,null,{default:p(()=>{var v;return[l(t(P),{title:"Realizar Pago - Restaurante"}),o("div",z,[o("div",A,[o("div",M,[o("div",j,[l(t(g),{href:d.route("restaurant.pagos.index"),class:"text-2xl hover:opacity-75"},{default:p(()=>e[2]||(e[2]=[x("← ")])),_:1},8,["href"]),e[3]||(e[3]=o("div",null,[o("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Realizar Pago"),o("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Paga tus créditos pendientes ")],-1))])]),o("div",q,[o("form",{onSubmit:w(S,["prevent"]),class:"space-y-6"},[o("div",null,[l(b,{for:"credito_id",value:"Seleccionar Crédito *"}),V(o("select",{id:"credito_id","onUpdate:modelValue":e[0]||(e[0]=r=>t(s).credito_id=r),class:"mt-1 block w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"},required:""},[e[4]||(e[4]=o("option",{value:""},"-- Seleccione un crédito --",-1)),(n(!0),c(N,null,h(u.creditos,r=>(n(),c("option",{key:r.id,value:r.id},a(r.nro)+" - Saldo: Bs. "+a(r.saldo_final),9,D))),128))],512),[[F,t(s).credito_id]]),l(y,{class:"mt-2",message:t(s).errors.credito_id},null,8,["message"])]),i.value?(n(),c("div",E,[e[10]||(e[10]=o("h3",{class:"font-bold mb-2"},"Información del Crédito",-1)),o("div",U,[o("div",null,[e[5]||(e[5]=o("span",{class:"text-gray-600"},"Número:",-1)),o("span",G,a(i.value.nro),1)]),o("div",null,[e[6]||(e[6]=o("span",{class:"text-gray-600"},"Plan:",-1)),o("span",L,a((v=i.value.plan)==null?void 0:v.nombre),1)]),o("div",null,[e[7]||(e[7]=o("span",{class:"text-gray-600"},"Saldo Inicial:",-1)),o("span",O,"Bs. "+a(i.value.saldo_inicial),1)]),o("div",null,[e[8]||(e[8]=o("span",{class:"text-gray-600"},"Saldo Pendiente:",-1)),o("span",T,"Bs. "+a(i.value.saldo_final),1)]),i.value.intereses_acumulados?(n(),c("div",H,[e[9]||(e[9]=o("span",{class:"text-gray-600"},"Intereses Acumulados:",-1)),o("span",J,"Bs. "+a(i.value.intereses_acumulados.toFixed(2)),1)])):_("",!0)])])):_("",!0),o("div",null,[l(b,{for:"monto",value:"Monto a pagar (Bs.) *"}),l($,{id:"monto",modelValue:t(s).monto,"onUpdate:modelValue":e[1]||(e[1]=r=>t(s).monto=r),type:"number",step:"0.01",min:"0.01",class:"mt-1 block w-full",placeholder:"Ingrese el monto",required:""},null,8,["modelValue"]),e[11]||(e[11]=o("p",{class:"text-xs mt-1",style:{color:"var(--color-text-secondary)"}}," El pago se aplicará primero a los intereses y luego al capital ",-1)),l(y,{class:"mt-2",message:t(s).errors.monto},null,8,["message"])]),o("div",K,[o("button",{type:"submit",class:"btn-primary px-6 py-2 rounded-lg font-medium transition",disabled:t(s).processing},a(t(s).processing?"Procesando...":"Realizar Pago"),9,Q),l(t(g),{href:d.route("restaurant.pagos.index"),class:"px-6 py-2 rounded-lg font-medium transition",style:{"background-color":"var(--color-border)",color:"var(--color-text-primary)"}},{default:p(()=>e[12]||(e[12]=[x(" Cancelar ")])),_:1},8,["href"])])],32)])]),l(R,{visitCount:u.visitCount},null,8,["visitCount"])])]}),_:1}))}};export{to as default};
