import{r as T,h as g,o,w as h,a as p,b as e,u as m,g as B,S as w,e as D,j as f,H as _,c as l,F as c,p as x,t as n,G as L,f as k,n as F,z as S}from"./app-WIpr5u10.js";import{_ as V}from"./AppLayout-D8U70Zno.js";import{P as H}from"./PageFooter-CFCpgnrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"flex flex-col min-h-screen"},j={class:"flex-1"},P={class:"mb-6 flex items-center gap-4"},A={class:"card rounded-lg shadow-sm p-6 mb-6"},G={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},O=["value"],U={class:"card rounded-lg shadow-sm p-6 mb-6"},R={class:"flex items-center justify-between"},z={class:"flex items-center gap-4"},E={class:"text-3xl font-bold text-blue-600"},I={class:"flex gap-2"},$=["href"],q=["href"],J={class:"card rounded-lg shadow-sm overflow-hidden"},K={class:"w-full"},Q={class:"px-6 py-4 whitespace-nowrap text-sm"},W={class:"px-6 py-4 whitespace-nowrap"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"px-6 py-4 whitespace-nowrap font-medium"},Z={key:0},ee={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},te={class:"flex flex-wrap gap-1"},re=["innerHTML"],de={__name:"Compras",props:{compras:Object,totalGeneral:Number,proveedores:Array,filters:Object,visitCount:Number},setup(s){const u=s,a=T({fecha_desde:u.filters.fecha_desde||"",fecha_hasta:u.filters.fecha_hasta||"",proveedor_id:u.filters.proveedor_id||""});function b(){S.get(route("restaurant.reportes.compras"),a.value,{preserveState:!0,preserveScroll:!0})}function C(){a.value={fecha_desde:"",fecha_hasta:"",proveedor_id:""},b()}const v=d=>new Intl.NumberFormat("es-BO",{minimumFractionDigits:2,maximumFractionDigits:2}).format(d),N=d=>new Date(d).toLocaleString("es-BO",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"});return(d,t)=>(o(),g(V,null,{default:h(()=>[p(m(B),{title:"Reporte de Compras"}),e("div",M,[e("div",j,[e("div",P,[p(m(w),{href:d.route("restaurant.reportes.dashboard"),class:"text-2xl hover:opacity-75"},{default:h(()=>t[3]||(t[3]=[D("â†")])),_:1},8,["href"]),t[4]||(t[4]=e("div",null,[e("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Reporte de Compras"),e("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Reporte detallado de compras con filtros ")],-1))]),e("div",A,[t[9]||(t[9]=e("h2",{class:"text-lg font-bold mb-4"},"Filtros",-1)),e("div",G,[e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium mb-1"},"Fecha Desde",-1)),f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.value.fecha_desde=r),type:"date",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,512),[[_,a.value.fecha_desde]])]),e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm font-medium mb-1"},"Fecha Hasta",-1)),f(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.value.fecha_hasta=r),type:"date",class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,512),[[_,a.value.fecha_hasta]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm font-medium mb-1"},"Proveedor",-1)),f(e("select",{"onUpdate:modelValue":t[2]||(t[2]=r=>a.value.proveedor_id=r),class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},[t[7]||(t[7]=e("option",{value:""},"Todos",-1)),(o(!0),l(c,null,x(s.proveedores,r=>(o(),l("option",{key:r.id,value:r.id},n(r.nombre),9,O))),128))],512),[[L,a.value.proveedor_id]])])]),e("div",{class:"flex gap-2 mt-4"},[e("button",{onClick:b,class:"btn-primary px-6 py-2 rounded-lg"}," Aplicar Filtros "),e("button",{onClick:C,class:"px-6 py-2 rounded-lg",style:{"background-color":"var(--color-border)",color:"var(--color-text-primary)"}}," Limpiar ")])]),e("div",U,[e("div",R,[t[10]||(t[10]=e("h2",{class:"text-xl font-bold"},"Total General",-1)),e("div",z,[e("p",E,"Bs. "+n(v(s.totalGeneral)),1),e("div",I,[e("a",{href:d.route("restaurant.reportes.compras.export.excel",s.filters),class:"btn-primary px-4 py-2 rounded-lg flex items-center gap-2"}," ðŸ“Š Excel ",8,$),e("a",{href:d.route("restaurant.reportes.compras.export.pdf",s.filters),class:"px-4 py-2 rounded-lg flex items-center gap-2",style:{"background-color":"#ef4444",color:"white"}}," ðŸ“„ PDF ",8,q)])])])]),e("div",J,[e("table",K,[t[12]||(t[12]=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Proveedor"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Usuario"),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Total")])],-1)),e("tbody",null,[(o(!0),l(c,null,x(s.compras.data,r=>{var i,y;return o(),l("tr",{key:r.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[e("td",Q,n(N(r.created_at)),1),e("td",W,n(((i=r.proveedor)==null?void 0:i.nombre)||"N/A"),1),e("td",X,n(((y=r.user)==null?void 0:y.name)||"N/A"),1),e("td",Y," Bs. "+n(v(r.total)),1)])}),128)),s.compras.data.length===0?(o(),l("tr",Z,t[11]||(t[11]=[e("td",{colspan:"4",class:"px-6 py-8 text-center text-gray-500"}," No se encontraron compras ",-1)]))):k("",!0)])]),s.compras.links.length>3?(o(),l("div",ee,[e("div",te,[(o(!0),l(c,null,x(s.compras.links,(r,i)=>(o(),l(c,{key:i},[r.url?(o(),g(m(w),{key:0,href:r.url,class:F(["px-3 py-1 rounded",r.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:r.label},null,8,["href","class","innerHTML"])):(o(),l("span",{key:1,class:F(["px-3 py-1 rounded",r.active?"btn-primary":"bg-gray-200"]),innerHTML:r.label},null,10,re))],64))),128))])])):k("",!0)])]),p(H,{visitCount:s.visitCount},null,8,["visitCount"])])]),_:1}))}};export{de as default};
