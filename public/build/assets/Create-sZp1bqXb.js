import{x as y,r as _,h as k,o as c,w as m,a as t,b as o,u as r,g as V,S as p,e as f,d as w,c as C,f as P,t as B}from"./app-BevKeGvV.js";import{_ as N}from"./AppLayout-BhWm1ZWu.js";import{P as h}from"./PageFooter-Cwmg75JN.js";import{_ as a}from"./InputError-Chtgfdjr.js";import{_ as n}from"./InputLabel-BHWlRqFg.js";import{_ as d}from"./TextInput-DnZp7P75.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex flex-col min-h-screen"},q={class:"flex-1"},F={class:"mb-6"},U={class:"flex items-center gap-4"},D={class:"card rounded-lg shadow-sm p-6 max-w-2xl"},G={key:0,class:"mt-4"},R=["src"],$={class:"flex items-center gap-4 pt-4"},I=["disabled"],T={__name:"Create",props:{visitCount:Number},setup(v){const s=y({nombre:"",costo:"",precio_venta:"",stock:0,imagen:null}),i=_(null);function g(u){const e=u.target.files[0];if(e){s.imagen=e;const l=new FileReader;l.onload=x=>{i.value=x.target.result},l.readAsDataURL(e)}}function b(){s.post(route("restaurant.productos.store"),{forceFormData:!0,onSuccess:()=>{s.reset(),i.value=null}})}return(u,e)=>(c(),k(N,null,{default:m(()=>[t(r(V),{title:"Crear Producto - Restaurante"}),o("div",S,[o("div",q,[o("div",F,[o("div",U,[t(r(p),{href:u.route("restaurant.productos.index"),class:"text-2xl hover:opacity-75"},{default:m(()=>e[4]||(e[4]=[f(" ← ")])),_:1},8,["href"]),e[5]||(e[5]=o("div",null,[o("h1",{class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},"Crear Producto"),o("p",{class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}}," Registra un nuevo producto en el sistema ")],-1))])]),o("div",D,[o("form",{onSubmit:w(b,["prevent"]),class:"space-y-6"},[o("div",null,[t(n,{for:"nombre",value:"Nombre del producto *"}),t(d,{id:"nombre",modelValue:r(s).nombre,"onUpdate:modelValue":e[0]||(e[0]=l=>r(s).nombre=l),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),t(a,{class:"mt-2",message:r(s).errors.nombre},null,8,["message"])]),o("div",null,[t(n,{for:"costo",value:"Costo de producción (Bs.) *"}),t(d,{id:"costo",modelValue:r(s).costo,"onUpdate:modelValue":e[1]||(e[1]=l=>r(s).costo=l),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(a,{class:"mt-2",message:r(s).errors.costo},null,8,["message"])]),o("div",null,[t(n,{for:"precio_venta",value:"Precio de venta (Bs.) *"}),t(d,{id:"precio_venta",modelValue:r(s).precio_venta,"onUpdate:modelValue":e[2]||(e[2]=l=>r(s).precio_venta=l),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),e[6]||(e[6]=o("p",{class:"text-xs mt-1",style:{color:"var(--color-text-secondary)"}}," Debe ser mayor que el costo de producción ",-1)),t(a,{class:"mt-2",message:r(s).errors.precio_venta},null,8,["message"])]),o("div",null,[t(n,{for:"stock",value:"Stock inicial *"}),t(d,{id:"stock",modelValue:r(s).stock,"onUpdate:modelValue":e[3]||(e[3]=l=>r(s).stock=l),type:"number",step:"0.01",min:"0",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),t(a,{class:"mt-2",message:r(s).errors.stock},null,8,["message"])]),o("div",null,[t(n,{for:"imagen",value:"Imagen del Producto (Opcional)"}),o("input",{id:"imagen",type:"file",accept:"image/*",onChange:g,class:"mt-1 block w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},null,32),e[8]||(e[8]=o("p",{class:"text-xs text-gray-500 mt-1"},"Formatos: JPG, PNG, GIF, WEBP. Máximo 2MB",-1)),i.value?(c(),C("div",G,[e[7]||(e[7]=o("p",{class:"text-sm font-medium mb-2"},"Vista Previa:",-1)),o("img",{src:i.value,alt:"Preview",class:"w-48 h-48 object-cover rounded-lg shadow-md"},null,8,R)])):P("",!0),t(a,{class:"mt-2",message:r(s).errors.imagen},null,8,["message"])]),o("div",$,[o("button",{type:"submit",class:"btn-primary px-6 py-2 rounded-lg font-medium transition",disabled:r(s).processing},B(r(s).processing?"Guardando...":"Crear Producto"),9,I),t(r(p),{href:u.route("restaurant.productos.index"),class:"px-6 py-2 rounded-lg font-medium transition",style:{"background-color":"var(--color-border)",color:"var(--color-text-primary)"}},{default:m(()=>e[9]||(e[9]=[f(" Cancelar ")])),_:1},8,["href"])])],32)])]),t(h,{visitCount:v.visitCount},null,8,["visitCount"])])]),_:1}))}};export{T as default};
