import{s as V,r as w,h as _,o,w as k,a as y,b as e,u as r,g as M,t as a,j as C,G as E,S as N,e as D,c as l,f as c,F as f,p as T,n as p,z as H}from"./app-WIpr5u10.js";import{_ as I}from"./AppLayout-D8U70Zno.js";import{P as S}from"./PageFooter-CFCpgnrU.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"flex flex-col min-h-screen"},L={class:"flex-1"},R={class:"mb-6"},j={class:"text-3xl font-bold",style:{color:"var(--color-text-primary)"}},z={class:"text-sm mt-1",style:{color:"var(--color-text-secondary)"}},A={class:"card rounded-lg shadow-sm p-6 mb-6"},F={class:"flex flex-col md:flex-row gap-4 items-end"},G={class:"flex-1"},O={class:"flex-1"},U={class:"card rounded-lg shadow-sm overflow-hidden"},$={class:"w-full"},q={key:0,class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},J={class:"px-6 py-4 whitespace-nowrap text-sm"},K={class:"px-6 py-4 whitespace-nowrap"},Q={class:"font-medium"},W={key:0,class:"px-6 py-4 whitespace-nowrap text-sm"},X={class:"px-6 py-4 whitespace-nowrap"},Y={class:"font-bold text-lg text-green-600"},Z={class:"px-6 py-4 whitespace-nowrap"},ee={class:"px-6 py-4 whitespace-nowrap"},te={key:0},se=["colspan"],oe={key:0,class:"px-6 py-4 border-t",style:{"border-color":"var(--color-border)"}},re={class:"flex flex-wrap gap-1"},ae=["innerHTML"],pe={__name:"Index",props:{ventas:Object,filters:Object,visitCount:Number},setup(n){const v=n,i=V().props.auth.user,b=g=>Array.isArray(i==null?void 0:i.roles)&&i.roles.some(t=>t.name===g),d=b("cliente"),u=b("administrador"),x=w(v.filters.estado||""),m=w(v.filters.tipo_pago||"");function h(){H.get(route("restaurant.ventas.index"),{estado:x.value,tipo_pago:m.value},{preserveState:!0,preserveScroll:!0})}return(g,t)=>(o(),_(I,null,{default:k(()=>[y(r(M),{title:r(d)?"Mis Compras - Restaurante":"GestiÃ³n de Ventas - Restaurante"},null,8,["title"]),e("div",B,[e("div",L,[e("div",R,[e("h1",j,a(r(d)?"ðŸ›’ Mis Compras":"ðŸ’° GestiÃ³n de Ventas"),1),e("p",z,a(r(d)?"Historial de tus pedidos en el restaurante":"Historial de ventas del restaurante"),1)]),e("div",A,[e("div",F,[e("div",G,[t[3]||(t[3]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}},"Estado",-1)),C(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),onChange:h,class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},t[2]||(t[2]=[e("option",{value:""},"Todos",-1),e("option",{value:"PENDIENTE"},"Pendiente",-1),e("option",{value:"ENTREGADO"},"Entregado",-1)]),544),[[E,x.value]])]),e("div",O,[t[5]||(t[5]=e("label",{class:"block text-sm font-medium mb-2",style:{color:"var(--color-text-primary)"}},"Tipo de Pago",-1)),C(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>m.value=s),onChange:h,class:"w-full px-4 py-2 rounded-lg border",style:{"background-color":"var(--color-bg-secondary)","border-color":"var(--color-border)",color:"var(--color-text-primary)"}},t[4]||(t[4]=[e("option",{value:""},"Todos",-1),e("option",{value:"Inmediato"},"Inmediato",-1),e("option",{value:"CrÃ©dito"},"CrÃ©dito",-1)]),544),[[E,m.value]])]),y(r(N),{href:g.route("restaurant.ventas.create"),class:"btn-primary px-6 py-2 rounded-lg font-medium transition whitespace-nowrap"},{default:k(()=>[D(a(r(d)?"ðŸ½ï¸ Realizar Pedido":"+ Nueva Venta"),1)]),_:1},8,["href"])])]),e("div",U,[e("table",$,[e("thead",null,[e("tr",null,[t[6]||(t[6]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Fecha/Hora",-1)),t[7]||(t[7]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Mesa",-1)),r(u)?(o(),l("th",q,"Cliente")):c("",!0),t[8]||(t[8]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Total",-1)),t[9]||(t[9]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Tipo Pago",-1)),t[10]||(t[10]=e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"},"Estado",-1))])]),e("tbody",null,[(o(!0),l(f,null,T(n.ventas.data,s=>(o(),l("tr",{key:s.id,class:"border-t",style:{"border-color":"var(--color-border)"}},[e("td",J,a(new Date(s.fecha_hora).toLocaleString("es-BO")),1),e("td",K,[e("div",Q,"ðŸª‘ "+a(s.mesa.codigo),1)]),r(u)?(o(),l("td",W,a(s.user.name),1)):c("",!0),e("td",X,[e("div",Y,"Bs. "+a(s.total),1)]),e("td",Z,[e("span",{class:p(["px-3 py-1 rounded-full text-xs font-medium",s.tipo_pago==="CrÃ©dito"?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800"])},a(s.tipo_pago==="CrÃ©dito"?"ðŸ’³ CrÃ©dito":"ðŸ’µ Inmediato"),3)]),e("td",ee,[e("span",{class:p(["px-3 py-1 rounded-full text-xs font-medium",s.estado==="PENDIENTE"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"])},a(s.estado==="PENDIENTE"?"ðŸŸ¡ Pendiente":"âœ… Entregado"),3)])]))),128)),n.ventas.data.length===0?(o(),l("tr",te,[e("td",{colspan:r(u)?6:5,class:"px-6 py-8 text-center text-gray-500"},a(r(d)?"No has realizado compras aÃºn":"No se encontraron ventas"),9,se)])):c("",!0)])]),n.ventas.links.length>3?(o(),l("div",oe,[e("div",re,[(o(!0),l(f,null,T(n.ventas.links,(s,P)=>(o(),l(f,{key:P},[s.url?(o(),_(r(N),{key:0,href:s.url,class:p(["px-3 py-1 rounded",s.active?"btn-primary":"bg-gray-200 hover:bg-gray-300"]),innerHTML:s.label},null,8,["href","class","innerHTML"])):(o(),l("span",{key:1,class:p(["px-3 py-1 rounded",s.active?"btn-primary":"bg-gray-200"]),innerHTML:s.label},null,10,ae))],64))),128))])])):c("",!0)])]),y(S,{visitCount:n.visitCount},null,8,["visitCount"])])]),_:1}))}};export{pe as default};
